<AppLayout>
	orientation:"vertical"
    BoxLayout:
    	size_hint:(1,0.2)
    	Button:
    		text:"A"
    	Button:
    		text:"B"
    	Button:
    		text:"C"
    	Button:
    		text:"D"
    ScrollView:
    	id:scroller
    	effect_cls:"OpacityScrollEffect"
    	do_scroll_x:False
    	do_scroll_y:True
    	GridLayout:
    		size_hint:(1,None)
    		height:self.minimum_height
    		id:messages
    		cols:1
        
    BoxLayout:
    	orientation:"horizontal"
    	size_hint:(1,None)
    	size:(1,120)
    	TextInput:
    		id:textbox
    		text:""
    		hint_text:"message"
    		font_size:60
    		keyboard_suggestions:False
    		padding_y: [self.height / 2.0 - (self.line_height / 2.0) * len(self._lines), 0]
    		multiline:False
    		cursor_color:(0,0,0,0)
    		hint_text_color:(0.5,0.5,0.5,0.4)
    	Button:
    		size_hint:(0.2,1)
        	text: "Send"
        	on_press: root.sendMessage()

<BackgroundColor@Widget>
    background_color:(1, 1, 1, 1)
    canvas.before:
        Color:
            rgba: root.background_color
        Rectangle:
            size: self.size
            pos: self.pos
            
<BackgroundLabel@Label+BackgroundColor>
    background_color:(0, 0, 0, 0)

<Message@BackgroundLabel>
	padding_x:50
	padding_y:30
	valign:'bottom'
	text_size:(self.width, None)
    size_hint:(1, None)
    height: self.texture_size[1]
	
<LeftMessage@Message>
	halign:'left'
	background_color:(0.4, 0.2, 0.7,1)
	
<RightMessage@Message>
	halign:'right'
	background_color:(0.1, 0.4, 0.6, 1)
	
<CenterMessage@Message>
	halign:'center'
	background_color:(0.1, 0.4, 0.6, 1)

